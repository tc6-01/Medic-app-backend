"use strict";(self.webpackChunkwebfile=self.webpackChunkwebfile||[]).push([[152],{8152:function(e,n,t){t.r(n),t.d(n,{default:function(){return R}});var i=t(4005),o=t(627),s=t(4554),r=t(2791),a=t(6871),l=t(3456),c=t(1413),f=t(885),u=t(8830),d=t(1914);function x(){var e=(0,i.oR)(d.v),n=(0,i.oR)(u.c),t=(0,r.useState)([]),o=(0,f.Z)(t,2),s=o[0],a=o[1];return(0,c.Z)((0,c.Z)((0,c.Z)({},e),n),{},{files:s,setFiles:a})}var Z=t(8953),j=t(2639),m=t(9505),h=t(3857),k=t(7209),p=t(3195),b=t(3767),g=t(9377),v=t(1186),w=t(7442),C=t(4350),z=t(184),B=function(e){var n=e.fileName,t=e.onOperationClicked;return(0,z.jsx)(b.Z,{m:1,children:(0,z.jsxs)(s.Z,{borderRadius:3,children:[(0,z.jsx)(C.Z,{fileName:n}),(0,z.jsx)(w.Z,{title:"\u6587\u4ef6\u64cd\u4f5c",children:(0,z.jsx)(m.Z,{items:[(0,z.jsx)(v.Z,{icon:(0,z.jsx)(g.Z,{fontSize:"large"}),name:"\u6253\u5f00",onclick:function(){return t("open")}}),(0,z.jsx)(v.Z,{icon:(0,z.jsx)(h.Z,{fontSize:"large"}),name:"\u5171\u4eab",onclick:function(){return t("share")}}),(0,z.jsx)(v.Z,{icon:(0,z.jsx)(k.Z,{fontSize:"large"}),name:"\u5220\u9664",onclick:function(){return t("delete")}})]})}),(0,z.jsx)(w.Z,{title:"\u66f4\u591a\u64cd\u4f5c",children:(0,z.jsx)(m.Z,{items:[(0,z.jsx)(v.Z,{icon:(0,z.jsx)(p.Z,{fontSize:"large"}),name:"\u8be6\u7ec6\u4fe1\u606f",onclick:function(){return t("detail")}})]})})]})})},F=t(1315),N=t(2479),O=t(2001),S=function(){var e,n=(0,a.s0)(),t=(0,i.oR)(x),c=(0,i.oR)(Z.i);(0,r.useEffect)((function(){(0,F.fD)().then((function(e){e&&0===e.code&&(Array.isArray(e.data)?(t.setFiles(e.data.map((function(e,n){return(0,F.Cl)(n,e)}))),t.setLoading(!1)):t.setFiles([e.data]))}))}),[]);var f=function(e){c.setBottomDrawerOpen(!0),c.setBottomDrawerContent((0,z.jsx)(B,{fileName:t.files[e].name,onOperationClicked:function(i){return function(e,i){switch(e){case"delete":console.log("delete files at index",i);break;case"open":c.setBottomDrawerOpen(!1),console.log(t.files),n("/pdfpreview",{state:t.files[i]});break;case"share":console.log("share files at index",i);break;case"detail":console.log("detail files at index",i)}}(i,e)}}))};return(0,z.jsx)(o.Z,{in:!0,children:(0,z.jsx)(s.Z,{children:(0,z.jsx)(m.Z,{items:null===(e=t.files)||void 0===e?void 0:e.map((function(e,n){return console.log(e),(0,z.jsx)(j.Z,{fileName:e.name,fileTime:(0,N.u)(e.expire),fileSize:(0,O.N)(e.size),sharedContent:(0,z.jsx)(l.Z,{state:"shared"}),onOperationClicked:function(){return f(n)}},n)})),onItemClicked:f})})})},R=function(){return(0,z.jsx)(i.zt,{of:x,children:(0,z.jsx)(S,{})})}},2001:function(e,n,t){function i(e){var n=(e<102.4?e.toFixed(2)+"B":e<104857.6?(e/1024).toFixed(2)+"KB":e<107374182.4?(e/1048576).toFixed(2)+"MB":(e/1073741824).toFixed(2)+"GB")+"",t=n.indexOf(".");return"00"==n.substr(t+1,2)?n.substring(0,t)+n.substr(t+3,2):n}t.d(n,{N:function(){return i}})}}]);
//# sourceMappingURL=152.7b592557.chunk.js.map